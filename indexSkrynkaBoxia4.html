<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>Гра "Скриньки"</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <h1>Гра "Скриньки"</h1>

        <div id="lobby">
            <p>Виберіть ім'я та кімнату для гри.</p>
            <input type="text" id="player-name-input" placeholder="Ваше ім'я">
            <input type="text" id="room-id-input" placeholder="ID кімнати">
            <button onclick="joinRoom()">Приєднатися / Створити кімнату</button>
            <p id="lobby-message"></p>
        </div>

        <div id="game" style="display: none;">
            <div class="game-state-message" id="game-status">Очікування на гравців...</div>
            
            <div id="controls">
                <div id="game-actions" style="display: none;">
                    <p>Ваш хід, <span id="current-player-name"></span>! Виберіть гравця та карту для запиту.</p>
                    <select id="target-player-select"></select>
                    <select id="card-rank-select">
                        <option value="">Вибрати значення</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="J">J</option>
                        <option value="Q">Q</option>
                        <option value="K">K</option>
                        <option value="A">A</option>
                    </select>
                    <button onclick="askForCard()">Запитати</button>
                </div>


                <div id="guess-count" style="display: none;">
                    <p>Вгадайте, скільки карт з цим рангом є у вашого суперника?</p>
                       <select id="card-count-select">  
                           <option value="">Вибрати значення</option>  
                           <option value="1">1</option>  
                           <option value="2">2</option>  
                           <option value="3">3</option>   
                       </select>   
                    <button id="submit-guess-count-btn">Відправити</button>
                </div>
                
                <div id="guess-suits-form" style="display: none;">
                    <p>Скільки мастей ви вгадаєте?</p>
                    <div id="suits-checkboxes">
                        <label><input type="checkbox" name="suit" value="♥"> ♥</label>
                        <label><input type="checkbox" name="suit" value="♦"> ♦</label>
                        <label><input type="checkbox" name="suit" value="♣"> ♣</label>
                        <label><input type="checkbox" name="suit" value="♠"> ♠</label>
                    </div>
                    <button onclick="guessSuits()">Вгадати масті</button>
                </div>

                <div id="response-buttons" style="display: none;">
                    <p>Гравець <span id="asking-player-name"></span> запитує карту <span id="asked-card-rank"></span>. У вас вона є?</p>
                    <button onclick="respondToAsk('yes')">Так</button>
                    <button onclick="respondToAsk('no')">Ні</button>
                </div>
            </div>

            <div id="game-info">
                <button id="startGameBtn" onclick="startGame()" >Розпочати гру</button>
                <p><strong>Ваші карти:</strong></p>
                <div id="player-hand" class="card-container"></div>
                <p><strong>Зібрані скриньки:</strong></p>
                <div id="collected-boxes" class="collected-boxes"></div>
                <p><strong>Колода:</strong> <span id="deck-size"></span> карт</p>
                <p><strong>Гравці:</strong></p>
                <ul id="players-list"></ul>
            </div>
        </div>
        
        <div class="message-box">
            <h4>Журнал гри:</h4>
            <div id="log"></div>
        </div>
    </div>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="script.js"></script>
</body>
</html>
