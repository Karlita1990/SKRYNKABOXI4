<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="game_title">–ì—Ä–∞ "–°–∫—Ä–∏–Ω—å–∫–∏"</title>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a1a2e;
            color: #e0e0e0;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        .container {
            background-color: #2e2c4d;
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            text-align: center;
            width: 90%;
            max-width: 600px;
        }
        h1 {
            font-size: 2.5rem;
            color: #e94560;
            margin-bottom: 20px;
        }
        p {
            font-size: 1.2rem;
            line-height: 1.6;
            margin: 10px 0;
        }
        button {
            background-color: #55a630;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            margin-top: 20px;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #408823;
        }
        input, select {
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #4a4a6b;
            background-color: #3b3a5b;
            color: #e0e0e0;
            margin: 5px;
            width: calc(100% - 10px);
            box-sizing: border-box;
        }
        .card-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        .card {
            background-color: white;
            border: 1px solid #ccc;
            border-radius: 8px;
            padding: 8px;
            width: 60px;
            height: 80px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            font-weight: bold;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        .card.hearts, .card.diamonds {
            color: #d32f2f;
        }
        .card.clubs, .card.spades {
            color: #000000  /* #004d40;  –¢–µ–º–Ω–æ-–±—ñ—Ä—é–∑–æ–≤–∏–π, –∞–ª–µ –º–æ–∂–Ω–∞ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ –π —ñ–Ω—à—ñ –∫–æ–ª—å–æ—Ä–∏ */
        }
        /* üîπ –ñ—É—Ä–Ω–∞–ª */
    #log {
      text-align: left;
      max-height: 200px;
      overflow-y: auto;
      border-radius: 5px;
      background-color: #12122b;
      border: 1px solid #444;
      padding: 10px;
      margin-top: 20px;
      font-size: 0.95rem;
      line-height: 1.4;
      box-shadow: inset 0 0 10px rgba(0,0,0,0.6);
    }
    #log p {
      margin: 5px 0;
      padding: 4px 8px;
      background-color: rgba(255,255,255,0.05);
      border-left: 3px solid #e94560;
    }
    </style>
</head>
<body>
    <div class="game-container">
        <h1 data-i18n="game_title">–ì—Ä–∞ "–°–∫—Ä–∏–Ω—å–∫–∏"</h1>

        <div id="lobby">
            <!-- –í–∏–±—ñ—Ä –º–æ–≤–∏ -->
            <label data-i18n="languageLabel" for="langSelect">–ú–æ–≤–∞:</label>
            <select id="langSelect">
                <option value="uk">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</option>
                <option value="en">English</option>
                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                <option value="de">Deutsch</option>
                <option value="es">Espa√±ol</option>
            </select>
            
            <p data-i18n="lobby_prompt">–í–∏–±–µ—Ä—ñ—Ç—å —ñ–º'—è —Ç–∞ –∫—ñ–º–Ω–∞—Ç—É –¥–ª—è –≥—Ä–∏.</p>
            <input type="text" id="player-name-input" data-i18n-placeholder="placeholder_name" placeholder="–í–∞—à–µ —ñ–º'—è">
            <input type="text" id="room-id-input" data-i18n-placeholder="placeholder_room_id" placeholder="ID –∫—ñ–º–Ω–∞—Ç–∏">
            <button onclick="joinRoom()" data-i18n="join_button">–ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è / –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫—ñ–º–Ω–∞—Ç—É</button>
            <p id="lobby-message"></p>
        </div>

        <div id="game" style="display: none;">
            <div class="game-state-message" id="game-status" data-i18n="status_waiting_for_players">–û—á—ñ–∫—É–≤–∞–Ω–Ω—è –Ω–∞ –≥—Ä–∞–≤—Ü—ñ–≤...</div>
            <h3 id="my-name"></h3>
            
            <div id="controls">
                <div id="game-actions" style="display: none;">
                    <p data-i18n="your_turn_prompt">–í–∞—à —Ö—ñ–¥, <span id="current-player-name"></span>! –í–∏–±–µ—Ä—ñ—Ç—å –≥—Ä–∞–≤—Ü—è —Ç–∞ –∫–∞—Ä—Ç—É –¥–ª—è –∑–∞–ø–∏—Ç—É.</p>
                    <select id="target-player-select"></select>
                    <select id="card-rank-select">
                        <option value="" data-i18n="select_value">–í–∏–±—Ä–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="J">J</option>
                        <option value="Q">Q</option>
                        <option value="K">K</option>
                        <option value="A">A</option>
                    </select>
                    <button onclick="askForCard()" data-i18n="ask_button">–ó–∞–ø–∏—Ç–∞—Ç–∏</button>
                </div>

                <div id="guess-count" style="display: none;">
                    <p data-i18n="guess_count_prompt">–í–≥–∞–¥–∞–π—Ç–µ, —Å–∫—ñ–ª—å–∫–∏ –∫–∞—Ä—Ç –∑ —Ü–∏–º —Ä–∞–Ω–≥–æ–º —î —É –≤–∞—à–æ–≥–æ —Å—É–ø–µ—Ä–Ω–∏–∫–∞?</p>
                    <select id="card-count-select">  
                        <option value="" data-i18n="select_value">–í–∏–±—Ä–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è</option>  
                        <option value="1">1</option>  
                        <option value="2">2</option>  
                        <option value="3">3</option>   
                    </select>   
                    <button id="submit-guess-count-btn" data-i18n="submit_guess_button">–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏</button>
                </div>
                
                <div id="guess-suits-form" style="display: none;">
                    <p data-i18n="guess_suits_prompt">–°–∫—ñ–ª—å–∫–∏ –º–∞—Å—Ç–µ–π –≤–∏ –≤–≥–∞–¥–∞—î—Ç–µ?</p>
                    <div id="suits-checkboxes">
                        <label><input type="checkbox" name="suit" value="‚ô•"> ‚ô•</label>
                        <label><input type="checkbox" name="suit" value="‚ô¶"> ‚ô¶</label>
                        <label><input type="checkbox" name="suit" value="‚ô£"> ‚ô£</label>
                        <label><input type="checkbox" name="suit" value="‚ô†"> ‚ô†</label>
                    </div>
                    <button onclick="guessSuits()" data-i18n="guess_suits_button">–í–≥–∞–¥–∞—Ç–∏ –º–∞—Å—Ç—ñ</button>
                </div>

                <div id="response-buttons" style="display: none;">
                    <p data-i18n="response_prompt">–ì—Ä–∞–≤–µ—Ü—å <span id="asking-player-name"></span> –∑–∞–ø–∏—Ç—É—î –∫–∞—Ä—Ç—É <span id="asked-card-rank"></span>. –£ –≤–∞—Å –≤–æ–Ω–∞ —î?</p>
                    <button onclick="respondToAsk('yes')" data-i18n="yes_button">–¢–∞–∫</button>
                    <button onclick="respondToAsk('no')" data-i18n="no_button">–ù—ñ</button>
                </div>
            </div>

            <div id="game-info">
                <button id="startGameBtn" onclick="startGame()" data-i18n="start_game_button">–†–æ–∑–ø–æ—á–∞—Ç–∏ –≥—Ä—É</button>
                <p><strong data-i18n="your_cards">–í–∞—à—ñ –∫–∞—Ä—Ç–∏:</strong></p>
                <div id="player-hand" class="card-container"></div>
                <p><strong data-i18n="collected_boxes">–ó—ñ–±—Ä–∞–Ω—ñ —Å–∫—Ä–∏–Ω—å–∫–∏:</strong></p>
                <div id="collected-boxes" class="collected-boxes"></div>
                <p><strong data-i18n="deck">–ö–æ–ª–æ–¥–∞:</strong> <span id="deck-size"></span> <span data-i18n="cards_unit">–∫–∞—Ä—Ç</span></p>
                <p><strong data-i18n="players">–ì—Ä–∞–≤—Ü—ñ:</strong></p>
                <ul id="players-list"></ul>
            </div>
        </div>
        
        <div class="message-box">
            <h4 data-i18n="game_log_title">–ñ—É—Ä–Ω–∞–ª –≥—Ä–∏:</h4>
            <div id="log"></div>
        </div>
    </div>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="translation.js"></script>
    <script src="script.js"></script>
</body>
</html>
